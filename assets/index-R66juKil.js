import{r as a,o as S,p as y,j as s,L as _,n as v}from"./index-oLjld516.js";import{s as n,C as k,a as E,b as L,c as b,d as P,e as w,g as B}from"./ChartButtonsChangeData-QorWTnVU.js";import{L as I}from"./List_box-A1Pf5lcA.js";import{k as m,Q as T}from"./ReactToastify-bTb1VSxt.js";import"./style-nJJ4Q6Ze.js";import"./TrendingDown-cLdn7gJ_.js";const F=a.lazy(()=>S(()=>import("./GetToTopButton-IS41Nj_6.js"),__vite__mapDeps([0,1,2]))),O=()=>{console.log("rendering the chart");const{id:e}=y(),[d,o]=a.useState(null),[r,u]=a.useState(null),[i,p]=a.useState(2),[l,x]=a.useState("prices"),[c,j]=a.useState(null),[f,h]=a.useState(!0),g=t=>T(t),C=async()=>{try{let t=await v.get(`https://api.coingecko.com/api/v3/coins/${e}`);h(!1),w(u,t.data)}catch(t){h(!0),g(t.message+" Too many requests.")}},D=async()=>{const t=await B(e,i);n(t.prices,o,[e]),j(t)};return a.useEffect(()=>{c&&(l=="prices"?n(c.prices,o,[e]):l=="market_caps"?n(c.market_caps,o,[e]):n(c.total_volumes,o,[e]))},[l]),a.useEffect(()=>{D()},[i]),a.useEffect(()=>{C()},[]),f?s.jsxs(s.Fragment,{children:[" ",s.jsx(k,{})," ",s.jsx(m,{})]}):s.jsx(a.Suspense,{fallback:s.jsx(_,{}),children:s.jsxs("div",{className:"coin-page-container",children:[r&&s.jsxs("div",{children:[s.jsx(I,{ele:r,color:"green",delay:0}),d&&s.jsxs("div",{children:[s.jsxs("div",{className:"btns-container-coin-page",children:[s.jsx(E,{days:i,setDays:p}),s.jsx(L,{setChartShow:x})]}),s.jsx("div",{children:s.jsx(b,{data:d})})]}),s.jsx(P,{heading:r.name,desc:r.desc})]}),s.jsx(F,{}),s.jsx(m,{theme:"dark"})]})})};export{O as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GetToTopButton-IS41Nj_6.js","assets/index-oLjld516.js","assets/index-5mn29oJS.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}